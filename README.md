# phyllotaxis
This projects aim is to simulate flowers(Gerbera Daisy) phyllotaxis.

Take a look at the arrangement of this flower's seeds, this project's goal is to find the location of all those seeds and create a 3d representation of the flower using Blender. Since it may be a new concept to you, I'll try to explain it a little bit, but for a better understanding of flowers phyllotaxis, read The Algorithmic Beauty of Plants book, Chapter 4. The link to this book is available in the references section.

<p align="center">
  <img alt="flower" align="center" src="https://user-images.githubusercontent.com/33146532/144817882-2968974f-645b-4b36-8a59-e09a0e107384.png"/>
</p>

As the first step, we find the location of seeds, Two plots below represent flowers with 1000 nodes and 2000 nodes respectively.

<p align="center">
  <img alt="original-1000" align="center" src="https://user-images.githubusercontent.com/33146532/144820256-2befa8e7-5b2e-457a-a678-2908f47f8cc4.png"/>
</p>
<p align="center">
  <img alt="original-2000" align="center" src="https://user-images.githubusercontent.com/33146532/144820242-bccd28da-354b-494e-9192-66cffb4edf11.png"/>
</p>

The most exciting thing about flower's seeds arrangement is that the number of seeds in a spiral is exactly integers from the Fibonacci sequence. It is a little hard to trace the spirals by eye, so I reduced the rotation speed, which makes spirals clearer.

<p align="center">
  <img alt="half-2000" align="center" src="https://user-images.githubusercontent.com/33146532/144822578-d22888c1-6e0d-475e-bba8-52b7cb293766.png"/>
</p>
<p align="center">
  <img alt="half-4000" align="center" src="https://user-images.githubusercontent.com/33146532/144822635-37a8145b-8389-4d3c-90df-a347dc30ab7f.png"/>
</p>

Now it is easy to trace the spirals and count the seeds in each of them (ex: 8 and 34 are the Fibonacci numbers for the first picture). but the former illustrations are the real flowers phyllotaxis.

As the first attempt to generate the 3D model, if we replace the circles with cubes, the pictures below will be the result, you can easily see the phyllotaxis pattern. 

<p align="center">
  <img alt="render-1000" align="center" src="https://user-images.githubusercontent.com/33146532/144824069-eb919b69-d360-4793-923b-167d0503c69d.png"/>
</p>
<p align="center">
  <img alt="render-2000" align="center" src="https://user-images.githubusercontent.com/33146532/144824124-dbc71dbc-047b-449e-9d2b-66f8bc43bc47.png"/>
</p>

And at last, this is the final result generated by this package. The blender python API is used to generate this 3D model.

<p align="center">
  <img alt="render-360" align="center" src="https://user-images.githubusercontent.com/33146532/144824240-ae7cc751-8b94-4965-bdb6-583ff8abab31.png"/>
</p>

# Usage

To plot the pattern using matplotlib:
``` bash
# replace 600 with the number of nodes
python -m phyllotaxis plot 600
```

To render the the 3D model:
``` bash
# replace 600 with the number of nodes
python -m phyllotaxis render 600
```

# Dependencies
[matplotlib](https://pypi.org/project/matplotlib/)

[bpy](https://pypi.org/project/bpy/) - blender python api ( if you are using Arch Linux, use [this AUR package](https://aur.archlinux.org/packages/blender-as-py-module/) to install  )

# References
[The Algorithmic Beauty of Plants book](http://algorithmicbotany.org/papers/#abop) | [Professor Przemys≈Çaw Prusinkiewicz](https://pages.cpsc.ucalgary.ca/~pwp/)

[Phyllotactic patterning of gerbera flower heads](https://www.pnas.org/content/118/13/e2016304118) paper
